{"ast":null,"code":"import _toConsumableArray from\"/home/bordkanone/vzxk/vzxk_project/vzxk_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/bordkanone/vzxk/vzxk_project/vzxk_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useMemo}from\"react\";import PostList from\"./components/PostList\";import PostForm from\"./components/PostForm\";import PostFilter from\"./components/PostFilter\";import CreateModal from\"./components/ui/modal/CreateModal\";import FormButton from\"./components/ui/FormButton/FormButton\";import'./styles/App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState({sort:'',query:''}),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modal=_useState6[0],setModal=_useState6[1];var sortedPostList=useMemo(function(){console.log('use memo');if(filter.sort){return _toConsumableArray(posts).sort(function(a,b){return a[filter.sort].localeCompare(b[filter.sort]);});}else{return posts;}},[filter.sort,posts]);var getSortedandFilteredList=useMemo(function(){return sortedPostList.filter(function(post){return post.title.toLowerCase().includes(filter.query);});},[filter.query,sortedPostList]);var createPost=function createPost(newPost){setPosts([].concat(_toConsumableArray(posts),[newPost]));setModal(false);};var removePost=function removePost(post){setPosts(posts.filter(function(p){return p.id!==post.id;}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PostFilter,{filter:filter,setFilter:setFilter}),/*#__PURE__*/_jsx(CreateModal,{visible:modal,setVisible:setModal,children:/*#__PURE__*/_jsx(PostForm,{create:createPost})}),/*#__PURE__*/_jsx(FormButton,{style:{marginTop:'15px'},onClick:function onClick(){return setModal(true);},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u043E\\u0441\\u0442\"}),/*#__PURE__*/_jsx(PostList,{remove:removePost,posts:getSortedandFilteredList,title:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u0441\\u0442\\u043E\\u0432\"})]});}","map":{"version":3,"sources":["/home/bordkanone/vzxk/vzxk_project/vzxk_ui/src/App.jsx"],"names":["React","useState","useMemo","PostList","PostForm","PostFilter","CreateModal","FormButton","App","posts","setPosts","sort","query","filter","setFilter","modal","setModal","sortedPostList","console","log","a","b","localeCompare","getSortedandFilteredList","post","title","toLowerCase","includes","createPost","newPost","removePost","p","id","marginTop"],"mappings":"0UAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,OAAzB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,mCAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,uCAAvB,CACA,MAAO,kBAAP,C,wFAGA,cAAe,SAASC,CAAAA,GAAT,EAAc,CACzB,cAA0BP,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAA4BT,QAAQ,CAAC,CAACU,IAAI,CAAC,EAAN,CAAUC,KAAK,CAAC,EAAhB,CAAD,CAApC,yCAAOC,MAAP,eAAeC,SAAf,eACA,eAA0Bb,QAAQ,CAAC,KAAD,CAAlC,yCAAOc,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,cAAc,CAAGf,OAAO,CAAC,UAAI,CAC/BgB,OAAO,CAACC,GAAR,CAAY,UAAZ,EACA,GAAIN,MAAM,CAACF,IAAX,CAAgB,CACZ,MAAO,oBAAIF,KAAJ,EAAWE,IAAX,CAAiB,SAACS,CAAD,CAAGC,CAAH,QAASD,CAAAA,CAAC,CAACP,MAAM,CAACF,IAAR,CAAD,CAAeW,aAAf,CAA6BD,CAAC,CAACR,MAAM,CAACF,IAAR,CAA9B,CAAT,EAAjB,CAAP,CACH,CAFD,IAGI,CACA,MAAOF,CAAAA,KAAP,CACH,CACJ,CAR6B,CAQ3B,CAACI,MAAM,CAACF,IAAR,CAAcF,KAAd,CAR2B,CAA9B,CAUA,GAAMc,CAAAA,wBAAwB,CAAGrB,OAAO,CAAC,UAAI,CACzC,MAAOe,CAAAA,cAAc,CAACJ,MAAf,CAAsB,SAAAW,IAAI,QAAIA,CAAAA,IAAI,CAACC,KAAL,CAAWC,WAAX,GAAyBC,QAAzB,CAAkCd,MAAM,CAACD,KAAzC,CAAJ,EAA1B,CAAP,CACH,CAFuC,CAErC,CAACC,MAAM,CAACD,KAAR,CAAeK,cAAf,CAFqC,CAAxC,CAIA,GAAMW,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,CAAa,CAC5BnB,QAAQ,8BAAKD,KAAL,GAAYoB,OAAZ,GAAR,CACAb,QAAQ,CAAC,KAAD,CAAR,CACH,CAHD,CAKA,GAAMc,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACN,IAAD,CAAS,CACxBd,QAAQ,CAACD,KAAK,CAACI,MAAN,CAAa,SAAAkB,CAAC,QAAGA,CAAAA,CAAC,CAACC,EAAF,GAASR,IAAI,CAACQ,EAAjB,EAAd,CAAD,CAAR,CACH,CAFD,CAIA,mBACI,oCAEI,KAAC,UAAD,EAAY,MAAM,CAAEnB,MAApB,CAA4B,SAAS,CAAIC,SAAzC,EAFJ,cAII,KAAC,WAAD,EAAa,OAAO,CAAEC,KAAtB,CAA6B,UAAU,CAAEC,QAAzC,uBACI,KAAC,QAAD,EAAU,MAAM,CAAIY,UAApB,EADJ,EAJJ,cAOI,KAAC,UAAD,EAAY,KAAK,CAAE,CAACK,SAAS,CAAE,MAAZ,CAAnB,CAAwC,OAAO,CAAE,yBAAIjB,CAAAA,QAAQ,CAAC,IAAD,CAAZ,EAAjD,iFAPJ,cAUI,KAAC,QAAD,EAAU,MAAM,CAAEc,UAAlB,CAA8B,KAAK,CAAEP,wBAArC,CAA+D,KAAK,CAAC,2EAArE,EAVJ,GADJ,CAcH","sourcesContent":["import React, {useState, useMemo} from \"react\";\nimport PostList from \"./components/PostList\";\nimport PostForm from \"./components/PostForm\";\nimport PostFilter from \"./components/PostFilter\";\nimport CreateModal from \"./components/ui/modal/CreateModal\";\nimport FormButton from \"./components/ui/FormButton/FormButton\";\nimport './styles/App.css';\n\n\nexport default function App(){\n    const [posts, setPosts] = useState([])\n    const [filter, setFilter] = useState({sort:'', query:''})\n    const [modal, setModal] = useState(false)\n    const sortedPostList = useMemo(()=>{\n        console.log('use memo')\n        if (filter.sort){\n            return [...posts].sort( (a,b) => a[filter.sort].localeCompare(b[filter.sort]) ) \n        }\n        else{\n            return posts;\n        }\n    }, [filter.sort, posts])\n\n    const getSortedandFilteredList = useMemo(()=>{\n        return sortedPostList.filter(post => post.title.toLowerCase().includes(filter.query))\n    }, [filter.query, sortedPostList])\n\n    const createPost = (newPost) => {\n        setPosts([...posts, newPost])\n        setModal(false)\n    }\n\n    const removePost = (post) =>{\n        setPosts(posts.filter(p=> p.id !== post.id))\n    }\n\n    return(\n        <div>\n\n            <PostFilter filter={filter} setFilter = {setFilter}/>\n            \n            <CreateModal visible={modal} setVisible={setModal}>\n                <PostForm create = {createPost}/>\n            </CreateModal>\n            <FormButton style={{marginTop: '15px'}} onClick={()=>setModal(true)}>\n                Создать пост\n            </FormButton>\n            <PostList remove={removePost} posts={getSortedandFilteredList} title='Список постов'/>\n        </div>\n        )\n} "]},"metadata":{},"sourceType":"module"}