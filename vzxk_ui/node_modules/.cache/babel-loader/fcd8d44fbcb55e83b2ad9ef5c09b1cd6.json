{"ast":null,"code":"import _regeneratorRuntime from\"/home/bordkanone/vzxk/vzxk_project/vzxk_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/bordkanone/vzxk/vzxk_project/vzxk_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/bordkanone/vzxk/vzxk_project/vzxk_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/bordkanone/vzxk/vzxk_project/vzxk_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useMemo}from\"react\";import PostList from\"./components/PostList\";import PostForm from\"./components/PostForm\";import PostFilter from\"./components/PostFilter\";import CreateModal from\"./components/ui/modal/CreateModal\";import FormButton from\"./components/ui/FormButton/FormButton\";import'./styles/App.css';import axios from'axios';import{usePosts}from\"./components/hooks/usePosts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState({sort:'',query:''}),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modal=_useState6[0],setModal=_useState6[1];var getSortedandFilteredList=usePosts(posts,filter.sort,filter.query);function fetchPosts(){return _fetchPosts.apply(this,arguments);}function _fetchPosts(){_fetchPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://127.0.0.1:8000/posts');case 2:response=_context.sent;setPosts(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchPosts.apply(this,arguments);}var createPost=function createPost(newPost){setPosts([].concat(_toConsumableArray(posts),[newPost]));setModal(false);};var removePost=function removePost(post){setPosts(posts.filter(function(p){return p.id!==post.id;}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PostFilter,{filter:filter,setFilter:setFilter}),/*#__PURE__*/_jsx(FormButton,{onClick:fetchPosts,children:\"GET\"}),/*#__PURE__*/_jsx(CreateModal,{visible:modal,setVisible:setModal,children:/*#__PURE__*/_jsx(PostForm,{create:createPost})}),/*#__PURE__*/_jsx(FormButton,{style:{marginTop:'15px'},onClick:function onClick(){return setModal(true);},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u043E\\u0441\\u0442\"}),/*#__PURE__*/_jsx(PostList,{remove:removePost,posts:getSortedandFilteredList,title:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u043E\\u0441\\u0442\\u043E\\u0432\"})]});}","map":{"version":3,"sources":["/home/bordkanone/vzxk/vzxk_project/vzxk_ui/src/App.jsx"],"names":["React","useState","useMemo","PostList","PostForm","PostFilter","CreateModal","FormButton","axios","usePosts","App","posts","setPosts","sort","query","filter","setFilter","modal","setModal","getSortedandFilteredList","fetchPosts","get","response","data","createPost","newPost","removePost","post","p","id","marginTop"],"mappings":"yoBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,OAAzB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,mCAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,uCAAvB,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,6BAAzB,C,wFAGA,cAAe,SAASC,CAAAA,GAAT,EAAc,CACzB,cAA0BT,QAAQ,CAAC,EAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eACA,eAA4BX,QAAQ,CAAC,CAACY,IAAI,CAAC,EAAN,CAAUC,KAAK,CAAC,EAAhB,CAAD,CAApC,yCAAOC,MAAP,eAAeC,SAAf,eACA,eAA0Bf,QAAQ,CAAC,KAAD,CAAlC,yCAAOgB,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,wBAAwB,CAAGV,QAAQ,CAACE,KAAD,CAAQI,MAAM,CAACF,IAAf,CAAqBE,MAAM,CAACD,KAA5B,CAAzC,CAJyB,QAOVM,CAAAA,UAPU,wIAOzB,sKAC2BZ,CAAAA,KAAK,CAACa,GAAN,CAAU,8BAAV,CAD3B,QACUC,QADV,eAEIV,QAAQ,CAACU,QAAQ,CAACC,IAAV,CAAR,CAFJ,sDAPyB,6CAYzB,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,CAAa,CAC5Bb,QAAQ,8BAAKD,KAAL,GAAYc,OAAZ,GAAR,CACAP,QAAQ,CAAC,KAAD,CAAR,CACH,CAHD,CAKA,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAS,CACxBf,QAAQ,CAACD,KAAK,CAACI,MAAN,CAAa,SAAAa,CAAC,QAAGA,CAAAA,CAAC,CAACC,EAAF,GAASF,IAAI,CAACE,EAAjB,EAAd,CAAD,CAAR,CACH,CAFD,CAIA,mBACI,oCAEI,KAAC,UAAD,EAAY,MAAM,CAAEd,MAApB,CAA4B,SAAS,CAAIC,SAAzC,EAFJ,cAGI,KAAC,UAAD,EAAY,OAAO,CAAEI,UAArB,iBAHJ,cAII,KAAC,WAAD,EAAa,OAAO,CAAEH,KAAtB,CAA6B,UAAU,CAAEC,QAAzC,uBACI,KAAC,QAAD,EAAU,MAAM,CAAIM,UAApB,EADJ,EAJJ,cAOI,KAAC,UAAD,EAAY,KAAK,CAAE,CAACM,SAAS,CAAE,MAAZ,CAAnB,CAAwC,OAAO,CAAE,yBAAIZ,CAAAA,QAAQ,CAAC,IAAD,CAAZ,EAAjD,iFAPJ,cAUI,KAAC,QAAD,EAAU,MAAM,CAAEQ,UAAlB,CAA8B,KAAK,CAAEP,wBAArC,CAA+D,KAAK,CAAC,2EAArE,EAVJ,GADJ,CAcH","sourcesContent":["import React, {useState, useMemo} from \"react\";\nimport PostList from \"./components/PostList\";\nimport PostForm from \"./components/PostForm\";\nimport PostFilter from \"./components/PostFilter\";\nimport CreateModal from \"./components/ui/modal/CreateModal\";\nimport FormButton from \"./components/ui/FormButton/FormButton\";\nimport './styles/App.css';\nimport axios from 'axios';\nimport { usePosts } from \"./components/hooks/usePosts\";\n\n\nexport default function App(){\n    const [posts, setPosts] = useState([])\n    const [filter, setFilter] = useState({sort:'', query:''})\n    const [modal, setModal] = useState(false)\n    const getSortedandFilteredList = usePosts(posts, filter.sort, filter.query)\n    \n\n    async function fetchPosts() {\n        const response = await axios.get('https://127.0.0.1:8000/posts')\n        setPosts(response.data)\n    }\n\n    const createPost = (newPost) => {\n        setPosts([...posts, newPost])\n        setModal(false)\n    }\n\n    const removePost = (post) =>{\n        setPosts(posts.filter(p=> p.id !== post.id))\n    }\n\n    return(\n        <div>\n\n            <PostFilter filter={filter} setFilter = {setFilter}/>\n            <FormButton onClick={fetchPosts}>GET</FormButton>\n            <CreateModal visible={modal} setVisible={setModal}>\n                <PostForm create = {createPost}/>\n            </CreateModal>\n            <FormButton style={{marginTop: '15px'}} onClick={()=>setModal(true)}>\n                Создать пост\n            </FormButton>\n            <PostList remove={removePost} posts={getSortedandFilteredList} title='Список постов'/>\n        </div>\n        )\n} "]},"metadata":{},"sourceType":"module"}